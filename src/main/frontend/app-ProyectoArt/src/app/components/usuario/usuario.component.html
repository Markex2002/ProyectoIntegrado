<div class="container-xl py-4 min-vh-100">
  <div class="row">
    <h1 class="p-0 m-0">Perfil</h1>
    <hr class="my-4">

    <div *ngIf="isArtista">
      <!--USERNAME-->
      <div class="bg-secondary row py-2 border">
        <p class="text-white col-md-2 fw-bold my-0 py-0">Username:  </p>
        <p class="text-white col-md-10 py-0 my-0">{{ loggedInArtista?.username }}</p>
      </div>
      <!--EMAIL-->
      <div class="bg-secondary-subtle row py-2 border">
        <p class="col-md-2 fw-bold my-0 py-0">Email:  </p>
        <p class="col-md-10 py-0 my-0">{{ loggedInArtista?.email }}</p>
      </div>
      <!--NOMBRE-->
      <div class="bg-secondary row py-2 border">
        <p class="text-white col-md-2 fw-bold my-0 py-0">Nombre:  </p>
        <span class="col-md-8 text-white my-0 py-0" *ngIf="!editandoNombre">{{ loggedInArtista?.nombre }}</span>
        <input class="col-md-8 my-0 py-0" *ngIf="editandoNombre"
               [formControl]="nombreArtistaControl"
               placeholder="{{loggedInArtista!.nombre}}"/>
        <button class="col-md-2 my-0 py-0 btn btn-primary" *ngIf="!editandoNombre" (click)="activarEdicionNombre()">Editar</button>
        <button class="col-md-2 my-0 py-0 btn btn-warning" *ngIf="editandoNombre" (click)="guardarCampo()">Guardar</button>
      </div>
      <!--AÑOS DE EXPERIENCIA-->
      <div class="bg-secondary-subtle row py-2 border">
        <p class="col-md-2 fw-bold my-0 py-0">Años de Experiencia:  </p>
        <span class="col-md-8 my-0 py-0" *ngIf="!editandoTiempoExperiencia">{{ loggedInArtista?.yearsOfExperience }}</span>
        <input type="number" class="col-md-8 my-0 py-0" *ngIf="editandoTiempoExperiencia"
               [formControl]="tiempoExperienciaControl"
               placeholder="{{loggedInArtista!.yearsOfExperience}}"/>
        <button class="col-md-2 my-0 py-0 btn btn-primary" *ngIf="!editandoTiempoExperiencia" (click)="activarEdicionExperiencia()">Editar</button>
        <button class="col-md-2 my-0 py-0 btn btn-warning" *ngIf="editandoTiempoExperiencia" (click)="guardarCampo()">Guardar</button>
      </div>
      <!--DESCRIPCIÓN CORTA-->
      <div class="bg-secondary row py-2 border">
        <p class="text-white fw-bold col-md-2 my-0 py-0">Descripción Corta:  </p>
        <span class="col-md-8 text-white my-0 py-0" *ngIf="!editandoDescripcionCorta">{{ loggedInArtista?.descripcionCorta }}</span>
        <input class="col-md-8 my-0 py-0" *ngIf="editandoDescripcionCorta"
               [formControl]="descripcionCortaControl"
               placeholder="{{loggedInArtista!.descripcionCorta}}"/>
        <button class="col-md-2 my-0 py-0 btn btn-primary h-25" *ngIf="!editandoDescripcionCorta" (click)="activarEdicionDescripcionCorta()">Editar</button>
        <button class="col-md-2 my-0 py-0 btn btn-warning" *ngIf="editandoDescripcionCorta" (click)="guardarCampo()">Guardar</button>
      </div>
      <!--DESCRIPCIÓN LARGA-->
      <div class="bg-secondary-subtle row py-2 border">
        <p class="fw-bold col-md-2 my-0 py-0">Descripción Larga:  </p>
        <span class="col-md-8 my-0 py-0" *ngIf="!editandoDescripcionLarga">{{ loggedInArtista?.descripcionLarga }}</span>
        <input class="col-md-8 my-0 py-0" *ngIf="editandoDescripcionLarga"
               [formControl]="descripcionLargaControl"
               placeholder="{{loggedInArtista!.descripcionLarga}}"/>
        <button class="col-md-2 my-0 py-0 btn btn-primary h-25" *ngIf="!editandoDescripcionLarga" (click)="activarEdicionDescripcionLarga()">Editar</button>
        <button class="col-md-2 my-0 py-0 btn btn-warning" *ngIf="editandoDescripcionLarga" (click)="guardarCampo()">Guardar</button>
      </div>
      <!--CATEGORIAS
      <div class="bg-secondary row py-2 border">
        <p class="text-white col-md-2 fw-bold my-0 py-0">Categorias:  </p>
        <div class="text-white col-md-10 py-0 my-0">
          <span *ngFor="let categoria of loggedInArtista?.categorias">{{ categoria }}, </span>
        </div>
      </div>
      -->
      <!--IDIOMAS
      <div class="bg-secondary-subtle row py-2 border">
        <p class="col-md-2 fw-bold my-0 py-0">Idiomas Hablados:  </p>
        <div class="col-md-10 py-0 my-0">
          <p *ngFor="let idioma of loggedInArtista?.idiomasHablados">
            {{idioma.nombre}}
          </p>
        </div>
      </div>
      -->
      <!--OFERTAS
      <div class="bg-secondary row py-2 border">
        <p class="text-white col-md-2 fw-bold my-0 py-0">Ofertas:  </p>
        <p class="text-white col-md-10 py-0 my-0">{{ loggedInArtista?.ofertasTrabajo }}</p>
      </div>
      -->

      <!-- PORTFOLIO -->
      <div>
        <hr class="my-4">
        <div class="my-4">
          <label for="image" class="form-label">Añadir Imagen al Portfolio</label>
          <input type="file" id="image" class="form-control" accept="image/*" (change)="upload($event)">
        </div>

        <p *ngIf="avisoImagen" class="bg-danger-subtle p-2">{{avisoImagen}}</p>
        <button (click)="verPortfolio()" class="btn btn-outline-primary">Ver PortFolio</button>

        <!-- ////PORTFOLIO//// -->
        <div *ngIf="portfolioVisible" class="row justify-content-center py-4">
          <div class="col-xl-4 col-md-6 col-sm-12 my-4" *ngFor="let imagen of imagenesArtista">
            <img [src]="imagen.url" class="img-fluid w-100 my-2" style="height: 250px; object-fit: cover;" alt="">
            <button class="btn btn-danger w-100 my-2" (click)="deleteImage(imagen.idImagen)">Eliminar Imagen</button>
          </div>
        </div>
      </div>
    </div>



    <div *ngIf="isEmpresa">
      <!--USERNAME-->
      <div class="bg-secondary row py-2 border">
        <p class="text-white col-md-2 fw-bold my-0 py-0">Username:  </p>
        <p class="text-white col-md-10 py-0 my-0">{{ loggedInEmpresa?.username }}</p>
      </div>
      <!--EMAIL-->
      <div class="bg-secondary-subtle row py-2 border">
        <p class="col-md-2 fw-bold my-0 py-0">Email:  </p>
        <p class="col-md-10 py-0 my-0">{{ loggedInEmpresa?.email }}</p>
      </div>
      <!--NOMBRE EMPRESA-->
      <div class="bg-secondary row py-2 border">
        <p class="text-white col-md-2 fw-bold my-0 py-0">Nombre Empresa:  </p>
        <span class="col-md-8 text-white my-0 py-0" *ngIf="!editandoNombreEmpresa">{{ loggedInEmpresa?.nombreEmpresa }}</span>
        <input class="col-md-8 my-0 py-0" *ngIf="editandoNombreEmpresa"
               [formControl]="nombreEmpresaControl"
               placeholder="{{loggedInEmpresa!.nombreEmpresa}}"/>
        <button class="col-md-2 my-0 py-0 btn btn-primary" *ngIf="!editandoNombreEmpresa" (click)="activarEdicionNombreEmpresa()">Editar</button>
        <button class="col-md-2 my-0 py-0 btn btn-warning" *ngIf="editandoNombreEmpresa" (click)="guardarCampo()">Guardar</button>
      </div>

      <!--NOMBRE REPRESENTANTE-->
      <div class="bg-secondary-subtle row py-2 border">
        <p class="col-md-2 fw-bold my-0 py-0">Nombre Representante:  </p>
        <span class="col-md-8 my-0 py-0" *ngIf="!editandoRepresentante">{{ loggedInEmpresa?.nombreRepresentante }}</span>
        <input class="col-md-8 my-0 py-0" *ngIf="editandoRepresentante"
               [formControl]="nombreRepresentanteControl"
               placeholder="{{loggedInEmpresa!.nombreRepresentante}}"/>
        <button class="col-md-2 my-0 py-0 btn btn-primary" *ngIf="!editandoRepresentante" (click)="activarEdicionRepresentante()">Editar</button>
        <button class="col-md-2 my-0 py-0 btn btn-warning" *ngIf="editandoRepresentante" (click)="guardarCampo()">Guardar</button>
      </div>
      <!--NUM TELEFONO-->
      <div class="bg-secondary row py-2 border">
        <p class="text-white col-md-2 fw-bold my-0 py-0">Número Telefono:  </p>
        <span class="text-white col-md-8 my-0 py-0" *ngIf="!editandoNumTelefono">{{ loggedInEmpresa?.numTlf }}</span>
        <input type="number" class="col-md-8 my-0 py-0" *ngIf="editandoNumTelefono"
               [formControl]="numTelefonoControl"
               placeholder="{{loggedInEmpresa!.numTlf}}"/>
        <button class="col-md-2 my-0 py-0 btn btn-primary" *ngIf="!editandoNumTelefono" (click)="activarEdicionTelefono()">Editar</button>
        <button class="col-md-2 my-0 py-0 btn btn-warning" *ngIf="editandoNumTelefono" (click)="guardarCampo()">Guardar</button>
      </div>
      <!--LISTADO OFERTAS-->
      <div class="bg-secondary-subtle row py-2 border">
        <p class="col-md-2 fw-bold my-0 py-0">Ofertas:</p>

        <div class="col-md-10 py-0 my-0" *ngFor="let oferta of ofertasEmpresa">
          <p class="fw-bold">{{oferta.nombrePuesto}}</p>
          <p>Duracion Jornada: {{oferta.duracionJornada}}h/semanales</p>
          <p>Fecha Limite: {{oferta.inscripcionHasta}}</p>
          <p>Min: {{oferta.salarioBrutoMin}}€ Max: {{oferta.salarioBrutoMax}}€</p>
        </div>
      </div>

      <hr>

      <button routerLink="/usuario/crearOferta" routerLinkActive="active" class="btn btn-success">Crear Oferta</button>
    </div>
  </div>
</div>
